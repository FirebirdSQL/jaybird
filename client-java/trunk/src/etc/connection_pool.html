<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.1.1  (Win32)">
	<META NAME="CREATED" CONTENT="20040417;14232670">
	<META NAME="CHANGED" CONTENT="20040531;13312821">
	<STYLE>
	<!--
		@page { size: 21cm 29.7cm }
		PRE.western { so-language: en-US }
		CODE { background: transparent }
		CODE.western { font-size: 10pt; so-language:  }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1>Connection pooling with JayBird 1.5</H1>
<ADDRESS>Roman Rokytskyy, Firebird Foundation</ADDRESS>
<ADDRESS STYLE="margin-bottom: 0.5cm"><BR><BR>
</ADDRESS>
<P>Connection pooling provides effective way to handle physical
database connections. It is believed that establishing new connection
to the database takes some noticeable amount or time and in order to
speed things up one has to reuse connections as much as possible.
While this is true for some software and for old versions of Firebird
database engine, establishing connection is hardly noticeable with
Firebird 1.0.3 and Firebird 1.5. So why is connection pooling needed?</P>
<P>There are few reasons for this. Each good connection pool provides
a possibility to limit number of physical connections established
with the database server. This is an effective measure to localize
connection leaks. Any application cannot open more physical
connections to the database than allowed by connection pool. Good
pools also provide some hints where connection leak occurred. Another
big advantage of connection pool is that it becomes a central place
where connections are obtained, thus simplifying system
configuration. However, main advantage of good connection pool comes
from the fact that in addition to connection pooling, it can pool
also prepared statement. Tests executed using AS3AP benchmark suite
show that prepared statement pooling might increase speed of the
application by 100% keeping source code clean and understandable.</P>
<H2>Usage scenario</H2>
<P>When some statement is used more than one time, it makes sense to
use prepared statement. It will be compiled by the server only once,
but reused many times. It provides significant speedup when some
statement is executed in a loop. But what if some prepared statement
will be used during lifetime of some object? Should we prepare it in
object's constructor and link object lifetime to JDBC connection
lifetime or should we prepare statement each time it is needed? All
such cases make handling of the prepared statements hard, they
pollute application's code with irrelevant details. 
</P>
<P>Connection and statement pooling remove such details from
application's code. How would the code in this case look like? Here's
the example</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
	<COL WIDTH=17*>
	<COL WIDTH=239*>
	<THEAD>
		<TR>
			<TH COLSPAN=2 WIDTH=100% VALIGN=TOP>
				<P>Example 1. Typical JDBC code with statement pooling</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=7%>
				<PRE CLASS="western">001
002
003
004
005
006
007
008
009
010
011
012
013
014
015
016</PRE>
			</TD>
			<TD WIDTH=93%>
				<PRE CLASS="western">...
Connection connection = dataSource.getConnection();
try {
    PreparedStatement ps = connection.prepareStatement(
        &ldquo;SELECT * FROM test_table WHERE id = ?&rdquo;);
    try {
        ps.setInt(1, id);
        ResultSet rs = ps.executeQuery();
        while (rs.next()) {
            // do something here
        }
    } finally {
        ps.close();
    }
} finally {
    connection.close();
}
...</PRE>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P>Lines 001-016 show typical code when prepared statement pooling is
used. Application obtains JDBC connection from the data source
(instance of <CODE CLASS="western">javax.sql.DataSource</CODE>
interface), prepares some SQL statement as if it is used for the
first time, sets parameters, and executes the query. Lines 012 and
015 ensure that statement and connection will be released under any
circumstances. Where do we benefit from the statement pooling? Call
to prepare a statement in lines 003-004 is intercepted by the pool,
which checks if there's a free prepared statement for the specified
SQL query. If no such statement is found it prepares a new one. In
line 012 prepared statement is not closed, but returned to the pool,
where it waits for the next call.</P>
<H2>Connection pool</H2>
<P>JayBird 1.5 connection pooling classes belong to
<CODE CLASS="western">org.firebirdsql.pool.*</CODE> package.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
	<COL WIDTH=64*>
	<COL WIDTH=192*>
	<THEAD>
		<TR>
			<TH COLSPAN=2 WIDTH=100% VALIGN=TOP>
				<P>Table 1. Description of some connection pool classes.</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<PRE CLASS="western">AbstractConnectionPool.java</PRE>
			</TD>
			<TD WIDTH=75%>
				<P>Base class for all connection pools. Can be used for
				implementing custom pools, not necessarily for JDBC connections.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<PRE CLASS="western">BasicAbstractConnectionPool.java</PRE>
			</TD>
			<TD WIDTH=75%>
				<P>Subclass of <CODE CLASS="western">AbstractConnectionPool</CODE>,
				implements <CODE CLASS="western">javax.sql.ConnectionPoolDataSource</CODE>
				interface. Also provides some basic properties (minimum and
				maximum number of connections, blocking and idle timeout, etc)
				and code to handle JNDI-related issues.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<PRE CLASS="western">DriverConnectionPoolDataSource.java</PRE>
			</TD>
			<TD WIDTH=75%>
				<P>Implementation of <CODE CLASS="western">javax.sql.ConnectionPoolDataSource</CODE>
				for arbitrary JDBC drivers, uses <CODE CLASS="western">java.sql.DriverManager</CODE>
				to obtain connections, can be used as JNDI object factory.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<PRE CLASS="western">FBConnectionPoolDataSource.java</PRE>
			</TD>
			<TD WIDTH=75%>
				<P>JayBird specific implementation of
				<CODE CLASS="western">javax.sql.ConnectionPoolDataSource</CODE>
				and <CODE CLASS="western">javax.sql.XADataSource</CODE>
				interfaces, can be used as JNDI object factory.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<PRE CLASS="western">FBSimpleDataSource.java</PRE>
			</TD>
			<TD WIDTH=75%>
				<P>Implementation of <CODE CLASS="western">javax.sql.DataSource</CODE>
				interface, no connection and statement pooling is available,
				connections are physically opened in <CODE CLASS="western">getConnection()</CODE>
				method and physically closed in their <CODE CLASS="western">close()</CODE>
				method.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<PRE CLASS="western">FBWrappingDataSource.java</PRE>
			</TD>
			<TD WIDTH=75%>
				<P>Implementation of <CODE CLASS="western">javax.sql.DataSource</CODE>
				interface that uses <CODE CLASS="western">FBConnectionPoolDataSource</CODE>
				to allocate connections. This class defines some additional
				properties that affect allocated connections. Can be used as JNDI
				object factory.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<PRE CLASS="western">SimpleDataSource.java</PRE>
			</TD>
			<TD WIDTH=75%>
				<P>Implementation of <CODE CLASS="western">javax.sql.DataSource</CODE>
				interface that uses <CODE CLASS="western">javax.sql.ConnectionPoolDataSource</CODE>
				to allocate physical connections.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H3>org.firebirdsql.pool.FBConnectionPoolDataSource</H3>
<P>This class is a corner stone of connection and statement pooling
in JayBird. It can be instantiated within the application as well as
it can be made accessible to other applications via JNDI. Class
implements both <CODE CLASS="western">java.io.Serializable</CODE> and
<CODE CLASS="western">javax.naming.Referenceable</CODE> interfaces,
which allows using it in a wide range of web and application servers.
</P>
<P>Class implements both <CODE CLASS="western">javax.sql.ConnectionPoolDataSource</CODE>
and j<CODE CLASS="western">avax.sql.XADataSource</CODE> interfaces.
Pooled connections returned by this class implement
<CODE CLASS="western">javax.sql.PooledConnection</CODE> and
<CODE CLASS="western">javax.sql.XAConnection</CODE> interfaces and
can participate in distributed JTA transactions.</P>
<P>Class provides following configuration properties:</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
	<COL WIDTH=64*>
	<COL WIDTH=45*>
	<COL WIDTH=44*>
	<COL WIDTH=103*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=25%>
				<P>Property</P>
			</TH>
			<TH WIDTH=18%>
				<P>Getter</P>
			</TH>
			<TH WIDTH=17%>
				<P>Setter</P>
			</TH>
			<TH WIDTH=40%>
				<P>Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD COLSPAN=4 WIDTH=100% VALIGN=TOP>
				<P ALIGN=CENTER><EM>Standard properties</EM></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">maxIdleTime</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Maximum time in milliseconds after which idle connection in
				the pool is closed.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">maxPoolSize</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Maximum number of open physical connections.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">minPoolSize</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Minimum number of open physical connections. If value is
				greater than 0, corresponding number of connections will be
				opened when first connection is obtained.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">maxStatements</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Maximum size of prepared statement pool. If 0, statement
				pooling is switched off. When application requests more
				statements than can be kept in pool, JayBird will allow creating
				that statements, however closing them would not return them back
				to the pool, but rather immediately release the resources.</P>
			</TD>
		</TR>
		<TR>
			<TD COLSPAN=4 WIDTH=100% VALIGN=TOP>
				<P ALIGN=CENTER><EM>Pool properties</EM></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">blockingTimeout</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Maximum time in milliseconds during which application can be
				blocked waiting for a connection from the pool. If no free
				connection can be obtained, exception is thrown.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">idleTimeout</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P><I>Deprecated</I>. Same as <CODE CLASS="western">maxIdleTime</CODE>.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">retryInterval</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Period in which pool will try to obtain new connection while
				blocking the application.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">maxConnections</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P><I>Deprecated</I>. Same as <CODE CLASS="western">maxPoolSize</CODE>.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">minConnections</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P><I>Deprecated</I>. Same as <CODE CLASS="western">minPoolSize</CODE>.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">pooling</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Allows to switch connection pooling off.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">statementPooling</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Allows to switch statement pooling off.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">pingStatement</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Statement that will be used to &ldquo;ping&rdquo; JDBC
				connection, in other words, to check if it is still alive. This
				statement must always succeed.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">pingInterval</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Time during which connection is believed to be valid in any
				case. Pool &ldquo;pings&rdquo; connection before giving it to the
				application only if more than specified amount of time passed
				since last &ldquo;ping&rdquo;.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">isolation</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Default transaction isolation level. All connections returned
				from the pool will have this isolation level. One of:</P>
				<UL>
					<LI><P STYLE="margin-bottom: 0cm"><CODE CLASS="western">TRANSACTION_READ_COMMITTED</CODE>
										</P>
					<LI><P STYLE="margin-bottom: 0cm"><CODE CLASS="western">TRANSACTION_REPEATABLE_READ</CODE>
										</P>
					<LI><P><CODE CLASS="western">TRANSACTION_SERIALIZABLE</CODE> 
					</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">transactionIsolationLevel</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Integer value from <CODE CLASS="western">java.sql.Connection</CODE>
				interface corresponding to the transaction isolation level
				specified in <CODE CLASS="western">isolation</CODE> property.</P>
			</TD>
		</TR>
		<TR>
			<TD COLSPAN=4 WIDTH=100% VALIGN=TOP>
				<P ALIGN=CENTER><EM>Firebird specific properties</EM></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">database</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Path to the database in the format</P>
				<P><CODE CLASS="western">[host/port:]/path/to/database.fdb</CODE></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">type</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Type of the driver to use. Possible values are:</P>
				<UL>
					<LI><P STYLE="margin-bottom: 0cm"><CODE CLASS="western">PURE_JAVA</CODE>
					or <CODE CLASS="western">TYPE4</CODE> for type 4 JDBC driver 
					</P>
					<LI><P STYLE="margin-bottom: 0cm"><CODE CLASS="western">NATIVE</CODE>
					or <CODE CLASS="western">TYPE2</CODE> for type 2 JDBC driver 
					</P>
					<LI><P><CODE CLASS="western">EMBEDDED</CODE> for using embedded
					version of the Firebird. 
					</P>
				</UL>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">blobBufferSize</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Size of the buffer used to transfer BLOB content. Maximum
				value is 64k-1.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">socketBufferSize</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Size of the socket buffer. Needed on some Linux machines to
				fix performance degradation.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">charSet</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Character set for the connection. Similar to <CODE CLASS="western">encoding</CODE>
				property, but accepts Java names instead of Firebird ones.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">encoding</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Character encoding for the connection. See Firebird
				documentation for more information.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">userName</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Name of the user that will be used by default.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">password</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Corresponding password.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">sqlRole</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>SQL role to use.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">tpbMapping</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>TPB mapping for different transaction isolation modes.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">nonStandardProperty</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>-</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
				<P ALIGN=CENTER><CODE CLASS="western">setNonStandardProperty(String)</CODE></P>
				<P ALIGN=CENTER><CODE CLASS="western">setNonStandardProperty(String,
				String)</CODE></P>
			</TD>
			<TD WIDTH=40%>
				<P>Allows to set any valid connection property that does not have
				corresponding setter method. Two setters are available: 
				</P>
				<P><CODE CLASS="western">setNonStandardProperty(String)</CODE>
				method takes only one parameter in form
				<CODE CLASS="western">&ldquo;propertyName[=propertyValue]&rdquo;</CODE>,
				this allows setting non-standard parameters using configuration
				files.</P>
				<P><CODE CLASS="western">setNonStandardProperty(String, String)</CODE>
				takes property name as first parameter, and its value as the
				second parameter.</P>
			</TD>
		</TR>
		<TR>
			<TD COLSPAN=4 WIDTH=100% VALIGN=TOP>
				<P ALIGN=CENTER><EM>Pool runtime properties</EM></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">freeSize</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>-</P>
			</TD>
			<TD WIDTH=40%>
				<P>Tells how many free connections are in the pool. Value is
				between 0 and <CODE CLASS="western">totalSize</CODE>.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">workingSize</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>-</P>
			</TD>
			<TD WIDTH=40%>
				<P>Tells how many connections were taken from the pool and are
				currently used in the application.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">totalSize</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>-</P>
			</TD>
			<TD WIDTH=40%>
				<P>Total size of open connection. At the pool creation &ndash; 0,
				after obtaining first connection &ndash; between <CODE CLASS="western">minPoolSize</CODE>
				and <CODE CLASS="western">maxPoolSize</CODE>.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">connectionCount</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>-</P>
			</TD>
			<TD WIDTH=40%>
				<P><I>Deprecated</I>. Same as <CODE CLASS="western">freeSize</CODE>.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H3>org.firebirdsql.pool.DriverConnectionPoolDataSource</H3>
<P>This class provides connection and statement pooling capabilities
for arbitrary any JDBC driver. It is very similar to the previous
class, however instead of allocating physical connections via JayBird
JCA framework, it uses <CODE CLASS="western">java.sql.DriverManager</CODE>.
It also does not implement <CODE CLASS="western">javax.sql.XADataSource</CODE>
interface and pooled connections cannot participate in distributed
JTA transactions.</P>
<TABLE WIDTH=100% BORDER=1 CELLPADDING=4 CELLSPACING=0 STYLE="page-break-inside: avoid">
	<COL WIDTH=64*>
	<COL WIDTH=45*>
	<COL WIDTH=44*>
	<COL WIDTH=103*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=25%>
				<P>Property</P>
			</TH>
			<TH WIDTH=18%>
				<P>Getter</P>
			</TH>
			<TH WIDTH=17%>
				<P>Setter</P>
			</TH>
			<TH WIDTH=40%>
				<P>Description</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TD COLSPAN=4 WIDTH=100% VALIGN=TOP>
				<P ALIGN=CENTER><EM>Class-specific properties</EM></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">driverClassName</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>Name of the JDBC driver class.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">jdbcUrl</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER>+</P>
			</TD>
			<TD WIDTH=40%>
				<P>JDBC URL that will be used to allocate connections.</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=25%>
				<P><CODE CLASS="western">property</CODE></P>
			</TD>
			<TD WIDTH=18%>
				<P ALIGN=CENTER><CODE CLASS="western">getProperty(String)</CODE></P>
			</TD>
			<TD WIDTH=17%>
				<P ALIGN=CENTER><CODE CLASS="western">setProperty(String, String)</CODE></P>
			</TD>
			<TD WIDTH=40%>
				<P>Allows setting additional connection properties.</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P STYLE="margin-bottom: 0cm">Note that this class does not provide
getters and setters for standard propertied like user name, password,
etc. This might be viewed as a limitation/inconvenience, however we
believe that if there is situation where
<CODE CLASS="western">DriverConnectionPoolDataSource.setProperty(String,
String)</CODE> cannot be used, one can easily create a subclass
providing all necessary setters.</P>
<H3>org.firebirdsql.pool.FBWrappingDataSource</H3>
<P>This class is a wrapper for <CODE CLASS="western">FBConnectionPoolDataSource</CODE>
converting interface from <CODE CLASS="western">javax.sql.ConnectionPoolDataSource</CODE>
to <CODE CLASS="western">javax.sql.DataSource</CODE>. It defines same
properties as <CODE CLASS="western">FBConnectionPoolDataSource</CODE>
does.</P>
</BODY>
</HTML>